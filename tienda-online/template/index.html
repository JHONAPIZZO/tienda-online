<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEON GAMING STORE</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --accent: #00ffe7;
            --accent2: #ff00c8;
            --text: #ffffff;
            --card-bg: #1a1c2e;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Orbitron', sans-serif;
            background-color: #0a0b14;
            color: var(--text);
        }

        header {
            background: var(--card-bg);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 0 20px var(--accent2);
        }

        .logo {
            font-size: 2rem;
            font-weight: bold;
        }

        .user-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .login-btn, .register-btn {
            padding: 0.5rem 1.2rem;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            font-family: 'Orbitron', sans-serif;
            text-decoration: none;
            color: #181c2f;
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            box-shadow: 0 0 8px var(--accent2);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .login-btn:hover, .register-btn:hover {
            background: linear-gradient(90deg, var(--accent2), var(--accent));
            color: #fff;
            transform: translateY(-2px) scale(1.05);
        }

        .user-menu {
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-menu a {
            color: var(--accent);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .user-menu a:hover {
            color: var(--accent2);
        }

        .cart-total {
            color: var(--accent);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            text-decoration: none;
        }

        .cart-total i {
            color: var(--accent2);
        }

        /* ...Resto de tus estilos actuales... */
        .welcome-container { padding: 2rem; animation: fadeIn 1s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .welcome-header { text-align: center; margin-bottom: 3rem; }
        .neon-text { font-size: 3rem; color: #fff; text-shadow: 0 0 10px #00ffe7, 0 0 20px #00ffe7, 0 0 30px #00ffe7, 0 0 40px #ff00c8; animation: neonPulse 1.5s ease-in-out infinite alternate; margin: 0; }
        @keyframes neonPulse { from { text-shadow: 0 0 10px #00ffe7, 0 0 20px #00ffe7, 0 0 30px #00ffe7; } to { text-shadow: 0 0 20px #00ffe7, 0 0 30px #00ffe7, 0 0 40px #ff00c8; } }
        .subtitle { font-size: 1.5rem; color: #00ffe7; margin-top: 1rem; opacity: 0.8; }
        .featured-categories { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin: 3rem 0; padding: 0 2rem; }
        .category-card { background: rgba(26, 28, 46, 0.8); border: 2px solid #00ffe7; border-radius: 15px; padding: 2rem; text-align: center; cursor: pointer; transition: all 0.3s ease; box-shadow: 0 0 15px rgba(0, 255, 231, 0.2); }
        .category-card:hover { transform: translateY(-10px); box-shadow: 0 0 25px rgba(0, 255, 231, 0.4); border-color: #ff00c8; }
        .category-card i { font-size: 3rem; color: #00ffe7; margin-bottom: 1rem; }
        .category-card h3 { color: #fff; font-size: 1.5rem; margin-bottom: 0.5rem; }
        .category-card p { color: #888; font-size: 0.9rem; margin: 0; }
        .featured-products { padding: 2rem; }
        .section-title { color: #00ffe7; font-size: 2rem; text-align: center; margin: 3rem 0; text-shadow: 0 0 10px rgba(0, 255, 231, 0.5); }
        .products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 2rem; padding: 1rem; }
        .product-card { background: rgba(26, 28, 46, 0.8); border-radius: 15px; overflow: hidden; transition: all 0.3s ease; }
        .product-card:hover { transform: translateY(-5px); box-shadow: 0 0 20px rgba(255, 0, 200, 0.3); }
        .product-image { width: 100%; height: 200px; object-fit: cover; }
        .product-info { padding: 1.5rem; }
        .product-title { color: #fff; font-size: 1.2rem; margin-bottom: 0.5rem; }
        .product-price { color: #00ffe7; font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem; }
        .add-to-cart-btn { width: 100%; padding: 0.8rem; background: linear-gradient(45deg, #00ffe7, #ff00c8); border: none; border-radius: 8px; color: #1a1c2e; font-weight: bold; cursor: pointer; transition: all 0.3s ease; display: flex; align-items: center; justify-content: center; gap: 0.5rem; }
        .add-to-cart-btn:hover { opacity: 0.9; transform: scale(1.02); }
        footer { background: var(--card-bg); padding: 2rem; margin-top: 3rem; box-shadow: 0 0 20px var(--accent); }
        .footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; max-width: 1200px; margin: 0 auto; }
        .footer-section h3 { color: var(--accent); margin-bottom: 1rem; }
        .footer-section p, .footer-section a { color: var(--text); text-decoration: none; margin: 0.5rem 0; display: block; }
        .footer-section a:hover { color: var(--accent2); }
        .footer-bottom { text-align: center; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--accent); }
        @media (max-width: 768px) {
            .welcome-container { padding: 1rem; }
            .neon-text { font-size: 2rem; }
            .featured-categories { grid-template-columns: 1fr; padding: 0 1rem; }
            header { flex-direction: column; text-align: center; gap: 1rem; }
            .footer-content { grid-template-columns: 1fr; text-align: center; }
            .user-actions { flex-direction: column; width: 100%; }
            .login-btn, .register-btn { width: 100%; justify-content: center; }
            .user-menu { flex-direction: column; text-align: center; }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <span style="color:#ff00c8;">NEON</span> GAMING STORE
        </div>
        {% if session.usuario %}
            <div class="user-menu">
                <span>Bienvenido, {{ session.usuario }}</span>
                <a href="{{ url_for('login.perfil') }}">
                    <i class="fas fa-user"></i> Mi Perfil
                </a>
                <a href="{{ url_for('login.logout') }}">
                    <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                </a>
            </div>
        {% else %}
            <div class="user-actions">
                <a href="{{ url_for('login.login') }}" class="login-btn">
                    <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
                </a>
                <a href="{{ url_for('login.registro') }}" class="register-btn">
                    <i class="fas fa-user-plus"></i> Registrarse
                </a>
            </div>
        {% endif %}
        <a href="{{ url_for('productos.carrito') }}" class="cart-total">
            <i class="fas fa-shopping-cart"></i>
            Total: ${{ "%.2f"|format(total_carrito|default(0)) }}
        </a>
    </header>

    <!-- Main Content -->
    <div class="welcome-container">
        <div class="welcome-header">
            <h2 class="neon-text">Bienvenido{% if session.usuario %}, {{ session.usuario }}{% endif %}!</h2>
            <p class="subtitle">Al futuro del gaming</p>
        </div>

        <div class="featured-categories">
            <div class="category-card" onclick="filterProducts('consolas')">
                <i class="fas fa-gamepad"></i>
                <h3>Consolas</h3>
                <p>Las últimas consolas del mercado</p>
            </div>
            <div class="category-card" onclick="filterProducts('juegos')">
                <i class="fas fa-dice"></i>
                <h3>Juegos</h3>
                <p>Títulos más populares</p>
            </div>
            <div class="category-card" onclick="filterProducts('accesorios')">
                <i class="fas fa-headset"></i>
                <h3>Accesorios</h3>
                <p>Mejora tu experiencia</p>
            </div>
        </div>

        <div class="featured-products">
            <h3 class="section-title">Productos Destacados</h3>
            <div class="products-grid" id="featured-products">
                {% if productos %}
                    {% for producto in productos %}
                    <div class="product-card" data-category="{{ producto.category }}">
                        <img src="{{ url_for('static', filename='uploads/' + producto.image) if producto.image else url_for('static', filename='placeholder.png') }}" 
                             alt="{{ producto.title }}" 
                             class="product-image">
                        <div class="product-info">
                            <h4 class="product-title">{{ producto.title }}</h4>
                            <p class="product-price">${{ "%.2f"|format(producto.price) }}</p>
                            <form action="{{ url_for('productos.agregar_carrito', producto_id=producto._id) }}" method="post">
                                <button type="submit" class="add-to-cart-btn">
                                    <i class="fas fa-shopping-cart"></i>
                                    Agregar al carrito
                                </button>
                            </form>
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <p class="no-products">No hay productos destacados disponibles</p>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Información de Contacto</h3>
                <p>Email: info@neongaming.com</p>
                <p>Teléfono: +54 9 11 1234-5678</p>
                <p>Dirección: Calle Falsa 123, Ciudad Neon</p>
            </div>
            <div class="footer-section">
                <h3>Enlaces Útiles</h3>
                <a href="#">Términos y Condiciones</a>
                <a href="#">Política de Privacidad</a>
                <a href="#">Preguntas Frecuentes</a>
                <a href="#">Contacto</a>
            </div>
            <div class="footer-section">
                <h3>Síguenos</h3>
                <div class="social-links">
                    <a href="#" target="_blank">Facebook</a>
                    <a href="#" target="_blank">Twitter</a>
                    <a href="#" target="_blank">Instagram</a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 NEON GAMING STORE. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Efecto hover para las cards
            document.querySelectorAll('.category-card').forEach(card => {
                card.addEventListener('mouseover', () => {
                    card.style.transform = 'translateY(-10px)';
                });
                card.addEventListener('mouseout', () => {
                    card.style.transform = 'translateY(0)';
                });
            });

            // Efecto para botones de agregar al carrito
            document.querySelectorAll('form').forEach(form => {
                form.addEventListener('submit', function(e) {
                    const button = this.querySelector('button');
                    const originalText = button.innerHTML;
                    button.innerHTML = '<i class="fas fa-check"></i> ¡Agregado!';
                    button.style.background = 'linear-gradient(90deg, var(--accent2), var(--accent))';
                    setTimeout(() => {
                        button.innerHTML = originalText;
                        button.style.background = '';
                    }, 1000);
                });
            });
        });

        function filterProducts(category) {
            window.location.href = `{{ url_for('productos.productos') }}?category=${category}`;
        }
    </script>
</body>
</html>